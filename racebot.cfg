// Please do NOT edit this file! Edit at your OWN risk!

cc = 0
c = [
	if (clientshavemap) [
		z = [
			if (> $i 0) [
				wall (concatword "^f0[RACE-BOT]^f7: The ^f2race ^f7will ^f0start ^f7in ^f1" $i " ^f7second^f4(s)^f7!");
				sleep 1000 [
					i = (- $i 1)
					z
				]
			] [
				wall "^f0[RACE-BOT]^f7: The ^f2race ^f6has ^f0started^f7!"
				respawn_all
			]
		]
		i = 3
		z
		cc = 1
	] [
		sleep 1 c
	]
]
c
cccc = 0
ccc = [
	if (= $cc 1) [
		zz = [
			if (!= (checkplayerspos) -1) [
				if (<=f (raceseconds) 4.0) [
					dpban (checkplayerspos) "Cheating in racemode.";
				] [
					wall (concatword "^f0[RACE-INFO]^f7: ^f1" (getclientname (checkplayerspos)) " ^f7has ^f0won ^f7the ^f2race!")
					if (isbestrace) [
						if (hasoldbest) [ 
							wall (concatword "^f0[RACE-INFO]^f7: ^f1" (getclientname (checkplayerspos)) " ^f7has done a new ^f3best ^f2score ^f7for this ^f2race ^f3[^f0" (raceseconds) " ^f2seconds^f3 ^f4- ^f3old best: ^f0" (bestraceseconds)" ^f2seconds ^f7by ^f1" (bestracerunner) "^f3] ^f7!")
						] [
							wall (concatword "^f0[RACE-INFO]^f7: ^f1" (getclientname (checkplayerspos)) " ^f7has done a new ^f3best ^f2score ^f7for this ^f2race ^f3[^f0" (raceseconds) " ^f2seconds^f3] ^f7!")
						]
						addbestrace (getclientname (checkplayerspos))
					] [
						wall (concatword "^f0[RACE-INFO]^f7: ^f1" (getclientname (checkplayerspos)) " ^f7has finished the ^f5race ^f7in ^f0" (raceseconds) " ^f7seconds. ^f3[Best ^f2time ^f7for this ^f1race: ^f0" (bestraceseconds) " ^f2seconds ^f7by ^f1" (bestracerunner)"^f3]^f7.")
					]
					zz = []
					zzz
				]
			]
			sleep 1 zz
		]
		zz
		cccc = 1
	] [
		sleep 1 ccc
	]
]
ccc
ccccc = [
	if (= $cccc 1) [
		zzzz = 20
		zzz = [
			if (|| (|| (= $zzzz 20) (= $zzzz 10)) (<= $zzzz 5)) [
				wall (concatword "^f0[RACE-BOT]^f7: ^f0Starting ^f7a ^f6new ^f2race ^f7in ^f1" $zzzz " ^f7second^f4(s)^f7.")
			]
			sleep 1000 [
				zzzz = (- $zzzz 1)
				if (= $zzzz 0) [
					zzz = []
					intermission
				] [
					zzz
				]
			]
		]
	] [
		sleep 1 ccccc
	]
]
ccccc